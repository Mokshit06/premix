{
  "version": 3,
  "sources": ["../../premix/src/build/react-shim.js", "../../premix/dist/premix/index.js", "../app/styles/button.css.ts", "../app/components/Button.tsx", "../app/lib/prisma.ts", "../app/pages/todos.tsx", "image:/root/projects/react-ssr/packages/example/app/assets/dummy_image.png?width=500&placeholder", "../app/pages/index.tsx", "../app/pages/$post.tsx", "../../premix/dist/premix/server.js", "../../premix/server.js", "../app/entry-server.tsx", "../server.ts", "<stdin>", "../app/App.tsx"],
  "sourcesContent": ["// @ts-ignore\nexport * as React from 'react';\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __objSpread = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", {value: true});\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, {get: all[name], enumerable: true});\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, {get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable});\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? {get: () => module2.default, enumerable: true} : {value: module2, enumerable: true})), module2);\n};\n\n// src/index.tsx\n__markAsModule(exports);\n__export(exports, {\n  Form: () => Form,\n  Links: () => Links,\n  LiveReload: () => LiveReload,\n  Meta: () => Meta,\n  PremixProvider: () => PremixProvider,\n  Scripts: () => Scripts,\n  loadable: () => loadable,\n  makeRoutes: () => makeRoutes,\n  matchRoute: () => matchRoute,\n  usePendingFormSubmit: () => usePendingFormSubmit,\n  usePendingLocation: () => usePendingLocation,\n  usePremix: () => usePremix,\n  useRouteData: () => useRouteData,\n  useSetPendingLocation: () => useSetPendingLocation,\n  useSubmit: () => useSubmit\n});\n\n// src/build/react-shim.js\nvar React = __toModule(require(\"react\"));\n\n// src/index.tsx\nvar import_react2 = __toModule(require(\"react\"));\nvar import_react_error_boundary = __toModule(require(\"react-error-boundary\"));\nvar import_react_router_dom = __toModule(require(\"react-router-dom\"));\n\n// src/client.tsx\nasync function fetchRouteData(url) {\n  const res = await fetch(`/_premix/data?href=${url}`);\n  const data = await res.json();\n  return data;\n}\n\n// src/utils/loadable.tsx\nvar import_react = __toModule(require(\"react\"));\nfunction useForceUpdate() {\n  const [, dispatch] = (0, import_react.useState)({});\n  const forceUpdate = (0, import_react.useCallback)(() => {\n    dispatch({});\n  }, []);\n  return forceUpdate;\n}\nfunction loadable(importFn, {fallback = (props) => null} = {}) {\n  return function LoadableComponent(props) {\n    var _a;\n    const component = (0, import_react.useRef)(fallback);\n    const forceUpdate = useForceUpdate();\n    if ((_a = globalThis.__LOADABLE_CACHE__) == null ? void 0 : _a[importFn.toString()]) {\n      component.current = globalThis.__LOADABLE_CACHE__[importFn.toString()];\n    }\n    (0, import_react.useEffect)(() => {\n      var _a2;\n      if ((_a2 = globalThis.__LOADABLE_CACHE__) == null ? void 0 : _a2[importFn.toString()])\n        return;\n      importFn(props).then((mod) => {\n        component.current = mod.default;\n        forceUpdate();\n      });\n    }, []);\n    return /* @__PURE__ */ React.createElement(component.current, __objSpread({}, props));\n  };\n}\n\n// src/utils/matchRoute.ts\nvar import_path_to_regexp = __toModule(require(\"path-to-regexp\"));\nfunction matchRoute(route, toMatch) {\n  const routeRegex = (0, import_path_to_regexp.pathToRegexp)(route);\n  return routeRegex.test(toMatch);\n}\n\n// src/index.tsx\nvar PremixContext = (0, import_react2.createContext)(null);\nvar PendingLocationContext = (0, import_react2.createContext)(null);\nvar PendingFormDataContext = (0, import_react2.createContext)(null);\nfunction ErrorFallback({error}) {\n  return /* @__PURE__ */ import_react2.default.createElement(\"div\", {\n    role: \"alert\"\n  }, /* @__PURE__ */ import_react2.default.createElement(\"p\", null, \"Something went wrong:\"), /* @__PURE__ */ import_react2.default.createElement(\"pre\", null, error.message));\n}\nfunction PremixProvider({context, children}) {\n  const premix = (0, import_react2.useState)(context);\n  const formData = (0, import_react2.useState)(null);\n  const pendingLocation = (0, import_react2.useState)(false);\n  return /* @__PURE__ */ import_react2.default.createElement(import_react_error_boundary.ErrorBoundary, {\n    FallbackComponent: ErrorFallback\n  }, /* @__PURE__ */ import_react2.default.createElement(PremixContext.Provider, {\n    value: premix\n  }, /* @__PURE__ */ import_react2.default.createElement(PendingLocationContext.Provider, {\n    value: pendingLocation\n  }, /* @__PURE__ */ import_react2.default.createElement(PendingFormDataContext.Provider, {\n    value: formData\n  }, children))));\n}\nvar usePremix = () => {\n  const context = (0, import_react2.useContext)(PremixContext);\n  if (context === null) {\n    throw new Error(\"usePremix must be called inside <PremixContext />\");\n  }\n  return context;\n};\nvar useSetPendingFormSubmit = () => (0, import_react2.useContext)(PendingFormDataContext);\nfunction usePendingFormSubmit() {\n  const [pendingFormData] = useSetPendingFormSubmit();\n  return pendingFormData;\n}\nvar useSetPendingLocation = () => (0, import_react2.useContext)(PendingLocationContext);\nfunction usePendingLocation() {\n  const [data] = (0, import_react2.useContext)(PendingLocationContext);\n  return data;\n}\nfunction useRouteData() {\n  const [{data}] = (0, import_react2.useContext)(PremixContext);\n  return data.props;\n}\nfunction Meta() {\n  const [{meta}] = usePremix();\n  return /* @__PURE__ */ import_react2.default.createElement(import_react2.default.Fragment, null, meta.title && /* @__PURE__ */ import_react2.default.createElement(import_react2.default.Fragment, null, /* @__PURE__ */ import_react2.default.createElement(\"title\", null, meta.title), /* @__PURE__ */ import_react2.default.createElement(\"meta\", {\n    name: \"title\",\n    content: meta.title\n  })), Object.entries(meta).map(([name, content]) => name !== \"title\" && /* @__PURE__ */ import_react2.default.createElement(\"meta\", {\n    key: name,\n    name,\n    content\n  })));\n}\nfunction Links() {\n  const [{links}] = usePremix();\n  return /* @__PURE__ */ import_react2.default.createElement(import_react2.default.Fragment, null, links.map((link) => /* @__PURE__ */ import_react2.default.createElement(import_react2.Fragment, {\n    key: link.href\n  }, [\"preload\", \"modulepreload\"].includes(link.rel) ? /* @__PURE__ */ import_react2.default.createElement(\"link\", {\n    rel: link.rel,\n    as: link.as,\n    href: link.href\n  }) : /* @__PURE__ */ import_react2.default.createElement(import_react2.default.Fragment, null, /* @__PURE__ */ import_react2.default.createElement(\"link\", {\n    rel: \"preload\",\n    as: \"style\",\n    href: link.href,\n    media: link.media\n  }), /* @__PURE__ */ import_react2.default.createElement(\"link\", {\n    rel: link.rel,\n    href: link.href,\n    media: link.media\n  })))));\n}\nfunction Scripts() {\n  const [premix] = usePremix();\n  return /* @__PURE__ */ import_react2.default.createElement(import_react2.default.Fragment, null, /* @__PURE__ */ import_react2.default.createElement(\"script\", {\n    id: \"__PREMIX_DATA__\",\n    type: \"application/json\",\n    dangerouslySetInnerHTML: {__html: JSON.stringify(premix)}\n  }), /* @__PURE__ */ import_react2.default.createElement(\"script\", {\n    type: \"module\",\n    src: premix.script\n  }));\n}\nfunction LiveReload({url = \"http://localhost:3456\"}) {\n  if (process.env.NODE_ENV !== \"development\")\n    return null;\n  return /* @__PURE__ */ import_react2.default.createElement(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: `\n      const eventSource = new EventSource('${url}/__premix/livereload');\n      console.log('premix: connecting');\n      eventSource.addEventListener('open', () => {\n        console.log('premix: connected');\n      });\n      eventSource.addEventListener('message', e => {\n        console.log(e.data);\n        window.location.reload();\n      });\n      eventSource.addEventListener('error', () => {\n        console.log('premix: error');\n        window.location.reload()\n      });      \n    `.trim()\n    }\n  });\n}\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\nfunction useSubmit(action) {\n  const location = (0, import_react_router_dom.useLocation)();\n  const navigate = (0, import_react_router_dom.useNavigate)();\n  const [, setPremix] = usePremix();\n  const pathname = action || location.pathname;\n  return async (data, {\n    replace = false,\n    method = \"post\"\n  } = {}) => {\n    const response = await fetch(pathname, {\n      method,\n      body: new URLSearchParams(data)\n    });\n    const redirectTo = new URL(response.url).pathname;\n    if (response.redirected) {\n      if (redirectTo === window.location.pathname) {\n        const data2 = await fetchRouteData(redirectTo);\n        setPremix(data2);\n      } else {\n        window.location.assign(redirectTo);\n      }\n    } else {\n      console.log(response);\n      if (process.env.NODE_ENV === \"development\") {\n        throw new Error(\"You must redirect to a path from your `actions`\");\n      }\n    }\n  };\n}\nvar Form = (0, import_react2.forwardRef)(({children, action, replace = false, method = \"post\"}, ref) => {\n  const [, setPendingFormData] = useSetPendingFormSubmit();\n  const formRef = (0, import_react2.useRef)(null);\n  const submit = useSubmit(action);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData(formRef.current);\n    setPendingFormData(formData);\n    await submit(formData, {\n      replace,\n      method\n    });\n    setPendingFormData(null);\n  };\n  return /* @__PURE__ */ import_react2.default.createElement(\"form\", {\n    method: \"post\",\n    action,\n    ref: mergeRefs(formRef, ref),\n    onSubmit: handleSubmit\n  }, children);\n});\nfunction makeRoutes(routes) {\n  return routes.map((route) => __objSpread(__objSpread({}, route), {\n    component: route.component || loadable(route.page)\n  }));\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  Form,\n  Links,\n  LiveReload,\n  Meta,\n  PremixProvider,\n  Scripts,\n  loadable,\n  makeRoutes,\n  matchRoute,\n  usePendingFormSubmit,\n  usePendingLocation,\n  usePremix,\n  useRouteData,\n  useSetPendingLocation,\n  useSubmit\n});\n", "import 'premix-example/app/styles/button.css.ts.vanilla.css?source=Ll81YzRkaTUwIHsKICBjb2xvcjogcmVkOwp9';\nexport var buttonStyles = '_5c4di50';", "import { ButtonHTMLAttributes } from 'react';\nimport { buttonStyles } from '../styles/button.css';\n\nexport default function Button(props: ButtonHTMLAttributes<HTMLButtonElement>) {\n  return <button {...props} className={buttonStyles} />;\n}\n", "import { PrismaClient } from '@prisma/client';\n\nexport const prisma = new PrismaClient({});\n", "import { Todo } from '@prisma/client';\nimport { useEffect, useRef } from 'react';\nimport {\n  Form,\n  usePendingFormSubmit,\n  useRouteData,\n  useSubmit,\n} from '@premix/core';\nimport type {\n  ActionFunction,\n  LoaderFunction,\n  MetaFunction,\n} from '@premix/core';\nimport Button from '../components/Button';\nimport { prisma } from '../lib/prisma';\nimport '../styles/action.css';\nimport '../styles/style.css';\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: 'Todos',\n  };\n};\n\nexport const loader: LoaderFunction = async () => {\n  const todos = await prisma.todo.findMany();\n\n  return {\n    props: { todos },\n  };\n};\n\nexport const action: ActionFunction = async (req, res) => {\n  switch (req.method) {\n    case 'POST': {\n      await prisma.todo.create({\n        data: {\n          text: req.body.text,\n        },\n      });\n      break;\n    }\n    case 'PUT': {\n      await prisma.todo.update({\n        where: {\n          id: Number(req.body.id),\n        },\n        data: {\n          complete: JSON.parse(req.body.complete),\n        },\n      });\n      break;\n    }\n  }\n\n  res.redirect(303, '/todos');\n};\n\nexport default function ActionPage() {\n  const { todos } = useRouteData<{ todos: Todo[] }>();\n  const pendingFormSubmit = usePendingFormSubmit();\n  const formRef = useRef<HTMLFormElement>();\n  const submit = useSubmit();\n\n  useEffect(() => {\n    if (pendingFormSubmit) {\n      formRef.current.reset();\n    }\n  }, [pendingFormSubmit]);\n\n  useEffect(() => {\n    console.log(todos);\n  }, [todos]);\n\n  return (\n    <main>\n      <h2>Todos</h2>\n      <ul>\n        {(todos || []).map(todo => (\n          <li key={todo.id}>\n            <input\n              type=\"checkbox\"\n              checked={todo.complete}\n              onChange={e => {\n                submit(\n                  {\n                    id: todo.id,\n                    complete: e.target.checked,\n                  },\n                  {\n                    replace: true,\n                    method: 'put',\n                  }\n                );\n              }}\n            />\n            {todo.text}\n          </li>\n        ))}\n        {pendingFormSubmit && (\n          <li>\n            <input type=\"checkbox\" disabled />\n            {pendingFormSubmit.get('text')}\n          </li>\n        )}\n      </ul>\n      <Form ref={formRef} action=\"/todos\">\n        <label>\n          Todo:\n          <input name=\"text\" type=\"text\" />\n        </label>\n        <Button type=\"submit\">Create</Button>\n      </Form>\n    </main>\n  );\n}\n", "import image from \"optimize:/root/projects/react-ssr/packages/example/app/assets/dummy_image.webp?path=%2Froot%2Fprojects%2Freact-ssr%2Fpackages%2Fexample%2Fapp%2Fassets%2Fdummy_image.png&height=null&width=500\";\n        import placeholder from \"optimize:/root/projects/react-ssr/packages/example/app/assets/dummy_image.webp?path=%2Froot%2Fprojects%2Freact-ssr%2Fpackages%2Fexample%2Fapp%2Fassets%2Fdummy_image.png&height=null&width=500&placeholder\";\n\n        export default function Image({ className }) {\n          return (\n            <img\n              height={375}\n              width={500}\n              src={image}\n              loading=\"lazy\"\n              style={{\n                backgroundImage: `url(${placeholder})`,\n                backgroundSize: 'cover',\n              }}\n              className={className}\n            />\n          )\n        }", "import Image from 'img:../assets/dummy_image.png?width=500&placeholder';\nimport { useRouteData } from '@premix/core';\nimport { LoaderFunction, MetaFunction } from '@premix/core';\nimport '../styles/style.css';\n\nexport const meta: MetaFunction = () => {\n  return {\n    title: 'Posts',\n  };\n};\n\ninterface Post {\n  title: string;\n  body: string;\n  id: string;\n}\n\nexport const loader: LoaderFunction = async () => {\n  const res = await fetch(\n    'https://jsonplaceholder.typicode.com/posts?_limit=5'\n  );\n  const posts = (await res.json()) as Post[];\n\n  return {\n    props: {\n      posts,\n    },\n  };\n};\n\nexport default function Home() {\n  const { posts } = useRouteData<{ posts: Post[] }>();\n\n  return (\n    <>\n      <Image />\n      {posts.map(post => (\n        <div key={post.id}>\n          <a href={`/${post.id}`}>{post.title}</a>\n        </div>\n      ))}\n    </>\n  );\n}\n", "import { useRouteData } from '@premix/core';\nimport { LoaderFunction, LoadPathsFunction, MetaFunction } from '@premix/core';\nimport '../styles/style.css';\n\nexport const meta: MetaFunction = ({ post }) => {\n  return {\n    title: post.title,\n    description: post.body,\n  };\n};\n\ninterface Post {\n  title: string;\n  body: string;\n  id: string;\n}\n\nexport const loadPaths: LoadPathsFunction = async () => {\n  const res = await fetch(\n    'https://jsonplaceholder.typicode.com/posts?_limit=5'\n  );\n  const posts = (await res.json()) as Post[];\n\n  return {\n    paths: posts.map(post => ({\n      params: { post: post.id },\n    })),\n  };\n};\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/posts/${params.post}`\n  );\n  const post = await res.json();\n\n  return {\n    props: {\n      post,\n    },\n  };\n};\n\nexport default function Post() {\n  const { post } = useRouteData<{ post: Post }>();\n\n  return (\n    <>\n      <a href=\"/\">Home</a>\n      <h2>{post.title}</h2>\n      <p>{post.body}</p>\n    </>\n  );\n}\n", "var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {enumerable: true, configurable: true, writable: true, value}) : obj[key] = value;\nvar __objSpread = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", {value: true});\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, {get: all[name], enumerable: true});\n};\nvar __reExport = (target, module2, desc) => {\n  if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\n    for (let key of __getOwnPropNames(module2))\n      if (!__hasOwnProp.call(target, key) && key !== \"default\")\n        __defProp(target, key, {get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable});\n  }\n  return target;\n};\nvar __toModule = (module2) => {\n  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? {get: () => module2.default, enumerable: true} : {value: module2, enumerable: true})), module2);\n};\n\n// src/server.tsx\n__markAsModule(exports);\n__export(exports, {\n  createRequestHandler: () => createRequestHandler\n});\n\n// src/build/react-shim.js\nvar React = __toModule(require(\"react\"));\n\n// src/server.tsx\nvar import_express = __toModule(require(\"express\"));\nvar import_node_fetch = __toModule(require(\"node-fetch\"));\n\n// src/utils/matchRoute.ts\nvar import_path_to_regexp = __toModule(require(\"path-to-regexp\"));\nfunction matchRoute(route, toMatch) {\n  const routeRegex = (0, import_path_to_regexp.pathToRegexp)(route);\n  return routeRegex.test(toMatch);\n}\n\n// src/utils/render-app.tsx\nvar import_path_to_regexp2 = __toModule(require(\"path-to-regexp\"));\nvar import_server = __toModule(require(\"react-router-dom/server\"));\nvar import_url = __toModule(require(\"url\"));\n\n// src/index.tsx\nvar import_react2 = __toModule(require(\"react\"));\nvar import_react_error_boundary = __toModule(require(\"react-error-boundary\"));\nvar import_react_router_dom = __toModule(require(\"react-router-dom\"));\n\n// src/client.tsx\nasync function fetchRouteData(url) {\n  const res = await fetch(`/_premix/data?href=${url}`);\n  const data = await res.json();\n  return data;\n}\n\n// src/utils/loadable.tsx\nvar import_react = __toModule(require(\"react\"));\n\n// src/index.tsx\nvar PremixContext = (0, import_react2.createContext)(null);\nvar PendingLocationContext = (0, import_react2.createContext)(null);\nvar PendingFormDataContext = (0, import_react2.createContext)(null);\nfunction ErrorFallback({error}) {\n  return /* @__PURE__ */ import_react2.default.createElement(\"div\", {\n    role: \"alert\"\n  }, /* @__PURE__ */ import_react2.default.createElement(\"p\", null, \"Something went wrong:\"), /* @__PURE__ */ import_react2.default.createElement(\"pre\", null, error.message));\n}\nfunction PremixProvider({context, children}) {\n  const premix = (0, import_react2.useState)(context);\n  const formData = (0, import_react2.useState)(null);\n  const pendingLocation = (0, import_react2.useState)(false);\n  return /* @__PURE__ */ import_react2.default.createElement(import_react_error_boundary.ErrorBoundary, {\n    FallbackComponent: ErrorFallback\n  }, /* @__PURE__ */ import_react2.default.createElement(PremixContext.Provider, {\n    value: premix\n  }, /* @__PURE__ */ import_react2.default.createElement(PendingLocationContext.Provider, {\n    value: pendingLocation\n  }, /* @__PURE__ */ import_react2.default.createElement(PendingFormDataContext.Provider, {\n    value: formData\n  }, children))));\n}\nvar usePremix = () => {\n  const context = (0, import_react2.useContext)(PremixContext);\n  if (context === null) {\n    throw new Error(\"usePremix must be called inside <PremixContext />\");\n  }\n  return context;\n};\nvar useSetPendingFormSubmit = () => (0, import_react2.useContext)(PendingFormDataContext);\nfunction mergeRefs(...refs) {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\nfunction useSubmit(action) {\n  const location = (0, import_react_router_dom.useLocation)();\n  const navigate = (0, import_react_router_dom.useNavigate)();\n  const [, setPremix] = usePremix();\n  const pathname = action || location.pathname;\n  return async (data, {\n    replace = false,\n    method = \"post\"\n  } = {}) => {\n    const response = await fetch(pathname, {\n      method,\n      body: new URLSearchParams(data)\n    });\n    const redirectTo = new URL(response.url).pathname;\n    if (response.redirected) {\n      if (redirectTo === window.location.pathname) {\n        const data2 = await fetchRouteData(redirectTo);\n        setPremix(data2);\n      } else {\n        window.location.assign(redirectTo);\n      }\n    } else {\n      console.log(response);\n      if (process.env.NODE_ENV === \"development\") {\n        throw new Error(\"You must redirect to a path from your `actions`\");\n      }\n    }\n  };\n}\nvar Form = (0, import_react2.forwardRef)(({children, action, replace = false, method = \"post\"}, ref) => {\n  const [, setPendingFormData] = useSetPendingFormSubmit();\n  const formRef = (0, import_react2.useRef)(null);\n  const submit = useSubmit(action);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData(formRef.current);\n    setPendingFormData(formData);\n    await submit(formData, {\n      replace,\n      method\n    });\n    setPendingFormData(null);\n  };\n  return /* @__PURE__ */ import_react2.default.createElement(\"form\", {\n    method: \"post\",\n    action,\n    ref: mergeRefs(formRef, ref),\n    onSubmit: handleSubmit\n  }, children);\n});\n\n// src/utils/extract.ts\nvar import_fs = __toModule(require(\"fs\"));\nvar import_path = __toModule(require(\"path\"));\nfunction getScripts(metafile2, file) {\n  const {imports} = metafile2.outputs[file];\n  return [\n    ...new Set(imports.filter((i) => i.kind === \"import-statement\").flatMap((i) => {\n      return [\n        i.path.replace(/^public/, \"\"),\n        ...getScripts(metafile2, i.path)\n      ];\n    }))\n  ];\n}\nfunction getRootScript(metafile2) {\n  const {outputs} = metafile2;\n  for (const [name, data] of Object.entries(outputs)) {\n    if (data.entryPoint === \"app/entry-client.tsx\") {\n      return name;\n    }\n  }\n}\nfunction getMetaFile() {\n  const file = import_fs.default.readFileSync(import_path.default.join(process.cwd(), \"build/meta.json\"), \"utf8\");\n  if (!file) {\n    throw new Error(\"`build/meta.json` not found. Run `yarn build`\");\n  }\n  return JSON.parse(file);\n}\nfunction getFilesImported(metafile2, file) {\n  const {outputs} = metafile2;\n  const imports = [];\n  Object.entries(outputs).forEach(([name, data]) => {\n    if (data.imports.filter((i) => i.kind === \"import-statement\").some((i) => i.path === file)) {\n      imports.push(name);\n    }\n  });\n  return imports;\n}\nfunction getInputs(metafile2, file) {\n  const {outputs} = metafile2;\n  const inputs = [];\n  Object.entries(outputs).forEach(([name, data]) => {\n    const inputKeys = Object.keys(data.inputs);\n    if (inputKeys.includes(file)) {\n      inputs.push(name);\n    }\n  });\n  return inputs;\n}\nfunction getStylesheetMap(metafile2) {\n  const {inputs} = metafile2;\n  const files = [];\n  Object.keys(inputs).forEach((file) => {\n    const fileUrl = new URL(`https://example.com/${file}`);\n    const isCss = /\\.css$/.test(fileUrl.pathname);\n    const isUrlLoaded = /^\\/url-file:(.*)\\.css$/.test(fileUrl.pathname);\n    if (!isCss || isUrlLoaded)\n      return;\n    files.push(file);\n  });\n  return files.map((i) => {\n    const inputs2 = getInputs(metafile2, i);\n    return inputs2;\n  }).reduce((acc, cur) => {\n    const [js, css] = cur;\n    const filesImported = getFilesImported(metafile2, js);\n    if (filesImported.length === 0) {\n      filesImported.push(js);\n    }\n    return __objSpread(__objSpread({}, acc), {\n      [css]: filesImported\n    });\n  }, {});\n}\nfunction getPageChunk(metafile2, file) {\n  const {outputs} = metafile2;\n  for (const [name, data] of Object.entries(outputs)) {\n    if (data.entryPoint === file) {\n      return name;\n    }\n  }\n}\n\n// src/utils/render-app.tsx\nvar metafile;\nvar scripts;\nvar rootScript;\nvar stylesheetMap;\nif (process.env.NODE_ENV === \"production\") {\n  metafile = getMetaFile();\n  rootScript = getRootScript(metafile);\n  scripts = getScripts(metafile, rootScript);\n  stylesheetMap = getStylesheetMap(metafile);\n}\nasync function renderApp(url) {\n  const urlWithoutQuery = new import_url.URL(`https://example.com${url}`).pathname;\n  if (process.env.NODE_ENV === \"development\") {\n    metafile = getMetaFile();\n    rootScript = getRootScript(metafile);\n    scripts = getScripts(metafile, rootScript);\n    stylesheetMap = getStylesheetMap(metafile);\n  }\n  const route = globalThis.__PREMIX_MANIFEST__.find((x) => matchRoute(x.path, urlWithoutQuery));\n  if (!route) {\n    return [{notFound: true}];\n  }\n  const file = route.pagePath;\n  const chunk = getPageChunk(metafile, file) || \"\";\n  const routerPage = await route.page();\n  const page = {\n    links: routerPage.links || (() => []),\n    meta: routerPage.meta || (() => ({})),\n    loader: routerPage.loader || (async () => ({props: {}})),\n    default: routerPage.default || (() => /* @__PURE__ */ React.createElement(\"h1\", null, \"404\")),\n    headers: routerPage.headers || (() => ({}))\n  };\n  const matchedRoute = (0, import_path_to_regexp2.match)(route.path, {decode: decodeURIComponent})(urlWithoutQuery);\n  if (!matchedRoute)\n    return;\n  const {params} = matchedRoute;\n  const data = await page.loader({params});\n  const meta = page.meta(data.props);\n  const headers = page.headers(data.props);\n  const Component = routerPage.default;\n  const pageStyles = [];\n  for (const [cssFile, pageChunks] of Object.entries(stylesheetMap)) {\n    const url2 = cssFile.replace(/^public/, \"\");\n    if (pageChunks.some((x) => x === chunk)) {\n      pageStyles.push(url2);\n    }\n  }\n  const script = rootScript.replace(/^public/, \"\");\n  const links = [\n    {rel: \"modulepreload\", href: script},\n    {rel: \"modulepreload\", href: chunk.replace(/^public/, \"\")},\n    ...scripts.map((i) => ({rel: \"modulepreload\", href: i})),\n    ...pageStyles.map((style) => ({rel: \"stylesheet\", href: style})),\n    ...page.links(data.props)\n  ];\n  const RemixApp = () => /* @__PURE__ */ React.createElement(PremixProvider, {\n    context: {\n      meta,\n      links,\n      data,\n      script\n    }\n  }, /* @__PURE__ */ React.createElement(import_server.StaticRouter, {\n    location: url\n  }, /* @__PURE__ */ React.createElement(globalThis.App, {\n    Component\n  })));\n  return [\n    RemixApp,\n    {\n      links,\n      data,\n      meta,\n      params,\n      script,\n      headers\n    }\n  ];\n}\n\n// src/server.tsx\nglobal.fetch = import_node_fetch.default;\nvar routes = globalThis.__PREMIX_MANIFEST__;\nfunction createRequestHandler(handleRequest) {\n  const router = (0, import_express.Router)();\n  router.get(\"/_premix/data\", async (req, res) => {\n    const {href} = req.query;\n    if (!href)\n      return res.status(404).send();\n    try {\n      const [{notFound}, _a] = await renderApp(href), _b = _a, {headers} = _b, data = __objRest(_b, [\"headers\"]);\n      if (notFound === true) {\n        return res.status(404).send(\"Page not found\");\n      }\n      res.json(data);\n    } catch (error) {\n      console.log(error.message);\n      res.status(500).send();\n    }\n  });\n  router.get(\"*\", async (req, res) => {\n    const [RemixApp, data] = await renderApp(req.originalUrl);\n    if (RemixApp.notFound === true) {\n      return res.status(404).send(\"Page not found\");\n    }\n    const {headers} = data;\n    const html = handleRequest(RemixApp);\n    Object.entries(headers).forEach(([key, value]) => res.setHeader(key, value));\n    res.send(html);\n  });\n  router.all(\"*\", async (req, res) => {\n    const route = routes.find((x) => matchRoute(x.path, req.originalUrl));\n    if (!route) {\n      return res.status(404).send(\"Page not found\");\n    }\n    console.log(route);\n    const {action} = await route.page();\n    if (!action)\n      return res.status(404).send(\"Loader doesn't exist\");\n    await action(req, res);\n  });\n  return router;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  createRequestHandler\n});\n", "module.exports = require('./dist/premix/server');\n", "import ReactDOMServer from 'react-dom/server';\nimport { ReactElement } from 'react';\nimport React from 'react';\n\nexport default function handleRequest(App: () => ReactElement) {\n  const markup = ReactDOMServer.renderToString(<App />);\n\n  return `<!DOCTYPE html>${markup}`;\n}\n", "import express from 'express';\nimport { createRequestHandler } from '@premix/core/server';\nimport compression from 'compression';\nimport chalk from 'chalk';\nimport handleRequest from './app/entry-server';\n\nconst app = express();\n\napp.use(compression());\n\napp.use(express.static('public'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.use('/', createRequestHandler(handleRequest));\n\napp.listen(process.env.PORT, () => {\n  console.log(chalk.green`Server started on http://localhost:3000`);\n});\n", "\n    import { makeRoutes } from '@premix/core'\n    import App from './app/App'\n\n    globalThis.App = App;\n\n    globalThis.__PREMIX_MANIFEST__ = makeRoutes([\n      {\n          path: '/todos',\n          page: () => import('/root/projects/react-ssr/packages/example/app/pages/todos.tsx'),\n          pagePath: '/root/projects/react-ssr/packages/example/app/pages/todos.tsx'\n        },\n{\n          path: '/',\n          page: () => import('/root/projects/react-ssr/packages/example/app/pages/index.tsx'),\n          pagePath: '/root/projects/react-ssr/packages/example/app/pages/index.tsx'\n        },\n{\n          path: '/:post',\n          page: () => import('/root/projects/react-ssr/packages/example/app/pages/$post.tsx'),\n          pagePath: '/root/projects/react-ssr/packages/example/app/pages/$post.tsx'\n        }\n    ]);\n\n    require('./server');\n    ", "import { Links, LiveReload, Meta, Scripts } from '@premix/core';\n\nexport default function App({ Component }) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"UTF-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <div id=\"__premix\">\n          <Component />\n        </div>\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n"],
  "mappings": "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",
  "names": []
}
